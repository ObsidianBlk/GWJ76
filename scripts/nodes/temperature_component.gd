extends Area2D
class_name TemperatureComponent

# ------------------------------------------------------------------------------
# Signals
# ------------------------------------------------------------------------------
signal body_temp_changed(body_temp : float)

# ------------------------------------------------------------------------------
# Constants and ENUMs
# ------------------------------------------------------------------------------
const MIN_STAMINA : float = 0.0
const MAX_STAMINA : float = 1000.0

# ------------------------------------------------------------------------------
# Export Variables
# ------------------------------------------------------------------------------

# ------------------------------------------------------------------------------
# Variables
# ------------------------------------------------------------------------------
var _accum : float = 0.0
var _body_temp : float = 1000.0

# ------------------------------------------------------------------------------
# Onready Variables
# ------------------------------------------------------------------------------


# ------------------------------------------------------------------------------
# Setters / Getters
# ------------------------------------------------------------------------------


# ------------------------------------------------------------------------------
# Override Methods
# ------------------------------------------------------------------------------
func _process(delta: float) -> void:
	var _old : float = _body_temp
	_body_temp = clampf(_body_temp + (_accum * delta), MIN_STAMINA, MAX_STAMINA)
	_accum = 0.0
	if not is_equal_approx(_body_temp, _old):
		body_temp_changed.emit(_body_temp)

# ------------------------------------------------------------------------------
# Private Methods
# ------------------------------------------------------------------------------


# ------------------------------------------------------------------------------
# Public Methods
# ------------------------------------------------------------------------------
func add_temperature(amount : float) -> void:
	_accum += amount

# ------------------------------------------------------------------------------
# Handler Methods
# ------------------------------------------------------------------------------



